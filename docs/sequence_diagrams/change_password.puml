@startuml

' Class definitions at top
class ":ChangePasswordUI" {
}

class ":UserController" {
  dict[string, Any] change_password(user, current_password, new_password)
}

class ":BusinessUser" {
  bool verify_password(password_hash, password)
  string hash_password(password)
}

' Actor and sequence flow
actor "Business User" as User
participant ":ChangePasswordUI" as ChangePasswordUI
participant ":UserController" as UserController
participant ":BusinessUser" as BusinessUser

User -> ChangePasswordUI: Enter current and new password
ChangePasswordUI -> UserController: change_password(user, current_password, new_password)
UserController -> BusinessUser: verify_password(password_hash, current_password)
BusinessUser --> UserController: verification result
UserController -> BusinessUser: hash_password(new_password)
BusinessUser --> UserController: hashed password
UserController -> BusinessUser: update password
BusinessUser --> UserController: result
UserController --> ChangePasswordUI: response dict
ChangePasswordUI --> User: Display result message

@enduml
